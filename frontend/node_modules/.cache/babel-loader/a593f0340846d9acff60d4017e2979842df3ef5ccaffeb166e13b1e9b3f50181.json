{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// socket.js\n\nimport { reactive } from \"vue\";\nimport { io } from \"socket.io-client\";\nexport const state = reactive({\n  connected: false,\n  fooEvents: [],\n  barEvents: []\n});\n\n// why does transports websocket prevent cors issues?\nexport const socket = io(\"http://localhost:3000\", {\n  transports: ['websocket']\n});\nsocket.on(\"connect\", () => {\n  socket.emit('f5');\n  state.connected = true;\n});\nsocket.on(\"disconnect\", () => {\n  state.connected = false;\n});\nsocket.on(\"foo\", (...args) => {\n  state.fooEvents.push(args);\n});\nsocket.on(\"bar\", (...args) => {\n  state.barEvents.push(args);\n});\n\n// define test event function\nsocket.newMessage = function (message) {\n  console.log(socket);\n  message = \"This is a test message!\";\n  socket.emit('newMessage', message);\n};\nsocket.f5 = function () {\n  socket.emit('f5');\n};\n\n// send paddle position updates to server\nsocket.sendLeftPaddleUp = function () {\n  console.log(\"Paddle Up\");\n  socket.emit('leftPaddleUp');\n};\nsocket.sendLeftPaddleDown = function () {\n  console.log(\"Paddle Down\");\n  socket.emit('leftPaddleDown');\n};\nwindow.addEventListener(\"beforeunload\", () => {\n  // Send a message to the server indicating a page refresh\n  console.log(\"TEEEEEEST\");\n  socket.emit(\"pageRefresh\");\n});","map":{"version":3,"names":["reactive","io","state","connected","fooEvents","barEvents","socket","transports","on","emit","args","push","newMessage","message","console","log","f5","sendLeftPaddleUp","sendLeftPaddleDown","window","addEventListener"],"sources":["/frontend/src/socket.js"],"sourcesContent":["// socket.js\n\nimport { reactive } from \"vue\";\nimport { io } from \"socket.io-client\";\n\nexport const state = reactive({\n\tconnected: false,\n\tfooEvents: [],\n\tbarEvents: []\n});\n\n// why does transports websocket prevent cors issues?\nexport const socket = io(\"http://localhost:3000\", {\n\ttransports: ['websocket']\n});\n\nsocket.on(\"connect\", () => {\n\tsocket.emit('f5');\n\tstate.connected = true;\n});\n\nsocket.on(\"disconnect\", () => {\n\tstate.connected = false;\n});\n\nsocket.on(\"foo\", (...args) => {\n\tstate.fooEvents.push(args);\n});\n\nsocket.on(\"bar\", (...args) => {\n\tstate.barEvents.push(args);\n});\n\n// define test event function\nsocket.newMessage = function (message) {\n\tconsole.log(socket);\n\tmessage = \"This is a test message!\";\n\tsocket.emit('newMessage', message);\n};\n\nsocket.f5 = function() {\n\tsocket.emit('f5');\n}\n\n// send paddle position updates to server\nsocket.sendLeftPaddleUp = function() {\n\tconsole.log(\"Paddle Up\");\n\tsocket.emit('leftPaddleUp');\n};\n\nsocket.sendLeftPaddleDown = function() {\n\tconsole.log(\"Paddle Down\");\n\tsocket.emit('leftPaddleDown');\n};\n\nwindow.addEventListener(\"beforeunload\", () => {\n\t// Send a message to the server indicating a page refresh\n\tconsole.log(\"TEEEEEEST\");\n\tsocket.emit(\"pageRefresh\");\n  });\n"],"mappings":";AAAA;;AAEA,SAASA,QAAQ,QAAQ,KAAK;AAC9B,SAASC,EAAE,QAAQ,kBAAkB;AAErC,OAAO,MAAMC,KAAK,GAAGF,QAAQ,CAAC;EAC7BG,SAAS,EAAE,KAAK;EAChBC,SAAS,EAAE,EAAE;EACbC,SAAS,EAAE;AACZ,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,MAAM,GAAGL,EAAE,CAAC,uBAAuB,EAAE;EACjDM,UAAU,EAAE,CAAC,WAAW;AACzB,CAAC,CAAC;AAEFD,MAAM,CAACE,EAAE,CAAC,SAAS,EAAE,MAAM;EAC1BF,MAAM,CAACG,IAAI,CAAC,IAAI,CAAC;EACjBP,KAAK,CAACC,SAAS,GAAG,IAAI;AACvB,CAAC,CAAC;AAEFG,MAAM,CAACE,EAAE,CAAC,YAAY,EAAE,MAAM;EAC7BN,KAAK,CAACC,SAAS,GAAG,KAAK;AACxB,CAAC,CAAC;AAEFG,MAAM,CAACE,EAAE,CAAC,KAAK,EAAE,CAAC,GAAGE,IAAI,KAAK;EAC7BR,KAAK,CAACE,SAAS,CAACO,IAAI,CAACD,IAAI,CAAC;AAC3B,CAAC,CAAC;AAEFJ,MAAM,CAACE,EAAE,CAAC,KAAK,EAAE,CAAC,GAAGE,IAAI,KAAK;EAC7BR,KAAK,CAACG,SAAS,CAACM,IAAI,CAACD,IAAI,CAAC;AAC3B,CAAC,CAAC;;AAEF;AACAJ,MAAM,CAACM,UAAU,GAAG,UAAUC,OAAO,EAAE;EACtCC,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;EACnBO,OAAO,GAAG,yBAAyB;EACnCP,MAAM,CAACG,IAAI,CAAC,YAAY,EAAEI,OAAO,CAAC;AACnC,CAAC;AAEDP,MAAM,CAACU,EAAE,GAAG,YAAW;EACtBV,MAAM,CAACG,IAAI,CAAC,IAAI,CAAC;AAClB,CAAC;;AAED;AACAH,MAAM,CAACW,gBAAgB,GAAG,YAAW;EACpCH,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;EACxBT,MAAM,CAACG,IAAI,CAAC,cAAc,CAAC;AAC5B,CAAC;AAEDH,MAAM,CAACY,kBAAkB,GAAG,YAAW;EACtCJ,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;EAC1BT,MAAM,CAACG,IAAI,CAAC,gBAAgB,CAAC;AAC9B,CAAC;AAEDU,MAAM,CAACC,gBAAgB,CAAC,cAAc,EAAE,MAAM;EAC7C;EACAN,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;EACxBT,MAAM,CAACG,IAAI,CAAC,aAAa,CAAC;AACzB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}